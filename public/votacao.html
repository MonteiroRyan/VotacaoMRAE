<!DOCTYPE html>
<html lang="pt-BR">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Votacao</title>
 <link rel="stylesheet" href="/css/style.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <style>
  .titulo-votacao {
   font-size: 2rem;
   font-weight: 800;
   color: var(--dark);
   margin-bottom: 1.5rem;
   text-align: center;
   line-height: 1.3;
   padding: 1.5rem;
   background: linear-gradient(135deg, rgba(240, 155, 190, 0.1) 0%, rgba(0, 150, 225, 0.1) 100%);
   border-radius: var(--radius-lg);
   border-left: 5px solid var(--primary-color);
  }

  .opcoes-checkbox-list {
   display: flex;
   flex-direction: column;
   gap: 1rem;
   max-width: 600px;
   margin: 0 auto;
  }

  .opcao-checkbox-item {
   display: flex;
   align-items: center;
   padding: 1.5rem;
   background: var(--white);
   border: 2px solid var(--border);
   border-radius: var(--radius-lg);
   cursor: pointer;
   transition: var(--transition);
   position: relative;
  }

  .opcao-checkbox-item:hover {
   border-color: var(--primary-color);
   background: rgba(0, 150, 225, 0.05);
   transform: translateX(5px);
  }

  .opcao-checkbox-item input[type="checkbox"] {
   position: absolute;
   opacity: 0;
   cursor: pointer;
  }

  .checkbox-custom {
   width: 30px;
   height: 30px;
   border: 2px solid var(--primary-color);
   border-radius: var(--radius);
   margin-right: 1rem;
   position: relative;
   flex-shrink: 0;
   transition: var(--transition);
  }

  .opcao-checkbox-item input[type="checkbox"]:checked~.checkbox-custom {
   background: var(--primary-color);
  }

  .opcao-checkbox-item input[type="checkbox"]:checked~.checkbox-custom::after {
   content: '\2713';
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   color: white;
   font-size: 1.2rem;
   font-weight: bold;
  }

  .opcao-checkbox-item input[type="checkbox"]:checked~.opcao-texto {
   color: var(--primary-color);
   font-weight: 600;
  }

  .opcao-texto {
   font-size: 1.1rem;
   color: var(--dark);
   flex: 1;
  }

  .instrucao-voto {
   background: var(--warning-light);
   padding: 1rem;
   border-radius: var(--radius);
   border-left: 4px solid var(--warning-color);
   margin-bottom: 1.5rem;
  }
 </style>
</head>

<body>
 <nav class="navbar">
  <div class="nav-container">
   <h1><i class="fas fa-vote-yea"></i> Sistema de Votacao</h1>
   <div class="nav-right">
    <span><i class="fas fa-user-circle"></i> <span id="nomeUsuario"></span></span>
    <button onclick="logout()" class="btn btn-secondary">
     <i class="fas fa-sign-out-alt"></i> Sair
    </button>
   </div>
  </div>
 </nav>

 <div class="container fade-in">
  <div class="votacao-box">
   <h1 class="titulo-votacao" id="infoEvento">Carregando...</h1>

   <div class="info-usuario">
    <h2><i class="fas fa-info-circle"></i> Informacoes do Votante</h2>
    <p><strong><i class="fas fa-user"></i> Nome:</strong> <span id="infoNome"></span></p>
    <p><strong><i class="fas fa-id-card"></i> CPF:</strong> <span id="infoCpf"></span></p>
    <p><strong><i class="fas fa-city"></i> Municipio:</strong> <span id="infoMunicipio"></span></p>
    <p><strong><i class="fas fa-weight"></i> Peso do voto:</strong> <span id="infoPeso"></span></p>
   </div>

   <div id="conteudoVotacao">
    <h2><i class="fas fa-hand-point-up"></i> Realize seu voto</h2>

    <div id="instrucaoVoto" class="instrucao-voto">
     <strong><i class="fas fa-exclamation-triangle"></i> ATENCAO:</strong>
     Apenas <strong>1 voto por municipio</strong>.
     Se seu municipio ja votou, voce nao podera votar novamente.
    </div>

    <div class="opcoes-voto" id="opcoesVoto">
     <!-- Opcoes serao renderizadas aqui -->
    </div>

    <div id="mensagem" class="mensagem"></div>
   </div>

   <div id="votoRegistrado" style="display: none;">
    <div class="success-message">
     <h2><i class="fas fa-check-circle"></i> Voto Registrado com Sucesso!</h2>
     <p>Seu voto foi computado e nao pode ser alterado.</p>
     <button onclick="verResultados()" class="btn btn-primary">
      <i class="fas fa-chart-bar"></i> Ver Resultados
     </button>
    </div>
   </div>
  </div>
 </div>

 <script src="/js/modal-confirm.js"></script>
 <script src="/js/utils.js"></script>
 <script src="/js/votacao.js"></script>
</body>

</html>